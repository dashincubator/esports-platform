"undefined"==typeof app?app={}:app,"undefined"==typeof app?app={}:app,"undefined"==typeof app?app={}:app,function(e){const{app:t,bind:n,resolve:i}=function(){"use strict";const e=function(){let e=new Map;return Object.freeze({get:t=>{let n=e.get(t);return n||console.error(`Invalid Container Binding: Namespace Not Found '${t}'`),n},set:(t,n)=>{let{dependencies:i,singleton:o,value:r}=n;e.has(t)||(i||o||r||(r=n),i=i||[],"boolean"==typeof o&&!1===o&&(o=!1),o=!0,r||console.error(`Invalid Container Binding: '${t}' Is Missing The Value Property`),e.set(t,Object.freeze({dependencies:i,singleton:o,value:r})))}})}(),t=function(e){let t=new Map;function n(e,t){if(!e)return t();Array.isArray(e)||(e=[e]);let n=[];for(let t=0,o=e.length;t<o;t++)n.push(i(e[t]));return t(...n)}function i(i,o){if(o)return n(i,o);if("string"==typeof i&&t.has(i))return t.get(i);let{dependencies:r,singleton:s,value:a}=e.get(i);return"function"==typeof a&&(a=n(r,a)),s&&t.set(i,a),a}return Object.freeze({resolve:(e,t)=>i(e,t)})}(e);let n=!1,i=[];const o={start:()=>{if(!n){n=!0;for(let e=0,n=i.length;e<n;e++){let{namespace:n,fn:o}=i[e];t.resolve(n,o)}i=[]}}};return Object.freeze({app:o,bind:(t,n)=>{e.set(t,n)},resolve:(e,o)=>n?t.resolve(e,o):i.push({namespace:e,fn:o})})}();n("dom/id",{dependencies:["emitter"],value:function(e){"use strict";let t=new Map;return e.on("dom.ready",function(){t.clear()}),e=>{if(e)return t.has(e)||t.set(e,(e=e,document.getElementById(e))),t.get(e)}}}),n("dom/names",{dependencies:["emitter"],value:function(e){"use strict";let t=new Map;return e.on("dom.ready",function(){t.clear()}),e=>{if(e)return t.has(e)||t.set(e,(e=e,Array.from(document.getElementsByName(e)||[]))),t.get(e)||[]}}}),n("dom/refs",{dependencies:["emitter","node"],value:function(e,t){"use strict";let n="data-ref",i=new Map;function o(e,t){let n=e.split(",").map(e=>e.trim());for(let e=0,o=n.length;e<o;e++){let o=n[e];i.has(o)||i.set(o,[]),i.get(o).push(t)}}return e.on("dom.ready",function(){i.clear();let r=Array.from(document.querySelectorAll(`[${n}]`)||[]);for(let e=0,t=r.length;e<t;e++){let t=r[e],i=t.getAttribute(n);i&&o(i,t)}t.update(r,{attribute:{[n]:!1}}),e.dispatch("dom.refs.cached")}),e=>{let t=i.get(e)||[];return i.delete(e),t}}}),n("dom/update",function(){"use strict";let e,t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},n=!1,i=[];function o(){for(n=!0;e=i.shift();)e();n=!1}return e=>{"function"==typeof e&&(i.push(e),n||t(o))}}),i(["directive"],function(e){"use strict";let t={blur:{fn:e.fn},focusinout:{fn:e.fn},stopblur:{stop:!0}};document.addEventListener("blur",e.delegate(t,"root.blur"),!0)}),i(["directive"],function(e){"use strict";let t={change:{fn:e.fn},stopchange:{stop:!0}};document.addEventListener("change",e.delegate(t,"root.change"),!0)}),i(["directive"],function(e){"use strict";let t={click:{fn:e.fn},stopclick:{stop:!0}};document.addEventListener("click",e.delegate(t,"root.click"),!0)}),i(["directive"],function(e){"use strict";let t={focus:{fn:e.fn},focusinout:{fn:e.fn},stopfocus:{stop:!0}};document.addEventListener("focus",e.delegate(t,"root.focus"),!0)}),i(["directive"],function(e){"use strict";let t={hover:{fn:e.fn},stophover:{stop:!0}};document.addEventListener("mouseenter",e.delegate(t,"root.hover"),!0),document.addEventListener("mouseleave",e.delegate(t,"root.hover"),!0)}),i(["directive"],function(e){"use strict";let t={keydown:{fn:e.fn}};document.addEventListener("keydown",e.delegate(t,"root.keydown"),!0)}),i(["directive"],function(e){"use strict";let t={keyup:{fn:e.fn}};document.addEventListener("keyup",e.delegate(t,"root.keyup"),!0)}),i(["directive"],function(e){"use strict";let t={mousedown:{fn:e.fn},stopmousedown:{stop:!0}};document.addEventListener("mousedown",e.delegate(t,"root.mousedown"),!0)}),i(["directive","throttle"],function(e,t){"use strict";let n={mousemove:{fn:e.fn},stopmousemove:{stop:!0}};document.addEventListener("mousemove",t(e.delegate(n,"root.mousemove"),16),!0)}),i(["directive"],function(e){"use strict";let t={mouseup:{fn:e.fn},stopmouseup:{stop:!0}};document.addEventListener("mouseup",e.delegate(t,"root.mouseup"),!0)}),i(["directive","throttle"],function(e,t){"use strict";let n={scroll:{fn:e.fn},stopscroll:{stop:!0}};document.addEventListener("scroll",t(e.delegate(n,"root.scroll"),16),{passive:!0,capture:!0})}),i(["directive"],function(e){"use strict";let t={stopsubmit:{stop:!0},submit:{fn:e.fn}};document.addEventListener("submit",e.delegate(t,"root.submit"),!0)}),i(["directive"],function(e){"use strict";let t={stoptouchcancel:{stop:!0},touchcancel:{fn:e.fn}};document.addEventListener("touchcancel",e.delegate(t,"root.touchcancel"),!0)}),i(["directive"],function(e){"use strict";let t={stoptouchend:{stop:!0},touchend:{fn:e.fn}};document.addEventListener("touchend",e.delegate(t,"root.touchend"),{passive:!0,capture:!0})}),i(["directive"],function(e){"use strict";let t={stoptouchmove:{stop:!0},touchmove:{fn:e.fn}};document.addEventListener("touchmove",e.delegate(t,"root.touchmove"),!0)}),i(["directive"],function(e){"use strict";let t={stoptouchstart:{stop:!0},touchstart:{fn:e.fn}};document.addEventListener("touchstart",e.delegate(t,"root.touchstart"),{passive:!0,capture:!0})}),i(["directive","throttle"],function(e,t){"use strict";let n={stopwheel:{stop:!0},wheel:{fn:e.fn}};document.addEventListener("wheel",e.delegate(n,"root.wheel"),{passive:!1,capture:!0})}),n("node/attribute",function(){"use strict";function e(e,t){if(t){Array.isArray(t)||(t=[t]);for(let n=0,i=t.length;n<i;n++){let i=t[n];"class"===i?e.className="":e.removeAttribute(i)}}}function t(e,t){if(t)for(let n in t){let i=t[n];"class"===n?e.className=i:"data-"===n.slice(0,5)?e.setAttribute(n,i):e[n]=i}}return(n,i)=>{if(!n||!i)return;Array.isArray(n)||(n=[n]);let o=[],r={};for(let e in i){let t=i[e];null==t||!1===t||"remove"===t?o.push(e):r[e]=t}for(let i=0,s=n.length;i<s;i++)e(n[i],o),t(n[i],r)}}),n("node/classname",function(){"use strict";function e(t,n){let i=typeof n;if("string"!==i&&"number"!==i||t.includes(n)){if(Array.isArray(n))for(let i=0,o=n.length;i<o;i++)t=e(t,n[i]);else if("object"===i)for(let i in n){let o=n[i];if(o&&"remove"!==o)"toggle"===o&&(i=t.includes(i)?{[i]:"remove"}:i),t=e(t,i);else{let e=t.indexOf(i);e>-1&&t.splice(e,1)}}}else t.push(n);return t}return(t,n)=>{if(t&&n){Array.isArray(t)||(t=[t]);for(let i=0,o=t.length;i<o;i++){let o=t[i],r=o.className,s=e(r.split(" "),n).join(" ");r!==s&&(o.className=s)}}}}),n("node/html",{dependencies:["render"],value:function(e){"use strict";let t={append:n,inner:i,prepend:function(t,n){("string"==typeof n||n instanceof String)&&(n=e.html(n)),n&&t.insertBefore(n,t.firstElementChild)}};function n(t,n){("string"==typeof n||n instanceof String)&&(n=e.html(n)),n&&t.appendChild(n)}function i(e,t){let i;for(;i=e.firstChild;)e.removeChild(i);n(e,t)}return(e,n)=>{if(!e)return;Array.isArray(e)||(e=[e]);let o="object"==typeof n&&!n.ownerDocument;for(let r=0,s=e.length;r<s;r++)if(o)for(let i in n){let o=t[i];o&&o(e[r],n[i])}else i(e[r],n)}}}),n("node/siblings",function(){"use strict";return(e,t)=>{let n=[],i=Array.from(e.parentNode.children);if(i.splice(i.indexOf(e),1),t)for(let e=0,o=i.length;e<o;e++){let o=i[e];t(o)&&n.push(o)}return t?n:i}}),n("node/style",function(){"use strict";return(e,t)=>{if(e&&t){Array.isArray(e)||(e=[e]);for(let n=0,i=e.length;n<i;n++){let i={},o=e[n].style;for(let e in t)o[e]!==t[e]&&(i[e]=t[e]);Object.keys(i).length&&Object.assign(o,i)}}}}),n("node/text",function(){"use strict";return(e,t)=>{if(e){Array.isArray(e)||(e=[e]);for(let n=0,i=e.length;n<i;n++)e[n].text!==t&&(e[n].textContent=t)}}}),n("node/update",{dependencies:["dom/update","node/attribute","node/classname","node/html","node/style","node/text"],value:function(e,t,n,i,o,r){"use strict";let s={attribute:t,classname:n,html:i,style:o,text:r};return(t,n)=>{t&&n&&(Array.isArray(t)||(t=[t]),e(()=>{n.before&&n.before();for(let e=0,i=t.length;e<i;e++)for(let i in n){let o=s[i]||null;o&&o(t[e],n[i])}n.after&&n.after()}))}}}),n("render/html",function(){"use strict";let e=new DOMParser;return t=>{let n=Array.from(e.parseFromString(t,"text/html").body.children),i=document.createDocumentFragment();for(let e=0,t=n.length;e<t;e++)i.append(n[e]);return i}}),n("render/template",{dependencies:["render/html"],value:function(e){"use strict";return(t,n)=>{let i="";if("function"==typeof t&&n){Array.isArray(n)||(n=[n]);for(let e=0,o=n.length;e<o;e++)i+=t(n[e])||"";return e(i)}}}}),i(["emitter"],function(e){"use strict";e.on("dom.refs.cached",function(){e.once("components.mount",()=>{e.dispatch("components.mounted")}),e.dispatch("components.mount")})}),i(["emitter"],function(e){"use strict";function t(){e.dispatch("dom.ready")}["complete","interactive","loaded"].includes(document.readyState)?t():document.addEventListener("DOMContentLoaded",t)}),i(["emitter"],function(e){"use strict";window.addEventListener("resize",function(){e.dispatch("window.resize")})}),i(["dom","emitter","node"],function(e,t,n){"use strict";let i=["blur","change","click","focus","hover","keydown","scroll","wheel"];function o(e,t){let n=new Event(t);for(let t=0,i=e.length;t<i;t++)e[t].dispatchEvent(n)}t.on("components.mounted",function(){for(let t=0,n=i.length;t<n;t++){let n=e.refs(`trigger:${i[t]}`);n&&o(n,i[t])}t.dispatch("triggers.dispatched")})}),n("directive",{dependencies:["pubsub"],value:function(e){"use strict";return Object.freeze(Object.assign({delegate:(t,n)=>{let i,o,r,s=Object.keys(t);return s.length?function(a){for(r=a.target;r;){if((i=r.dataset)&&(o=Object.keys(i).filter(e=>s.includes(e))).length){for(let e=0,n=o.length;e<n;e++){let{fn:n,stop:s}=t[o[e]];n&&n(i[o[e]],a,r),!0===s&&a.stopPropagation()}return}r=r.parentNode}e.dispatch(n,a)}:()=>{}},fn:(t,n,i)=>{e.dispatch(t,n,i)}},e))}}),n("dom",{dependencies:["dom/id","dom/names","dom/refs","dom/update"],value:function(e,t,n,i){return Object.freeze({id:e,names:t,refs:n,update:i})}}),n("emitter",{dependencies:["pubsub"],value:function(e){return e}}),n("node",{dependencies:["node/attribute","node/classname","node/html","node/siblings","node/style","node/text","node/update"],value:function(e,t,n,i,o,r,s){return Object.freeze({attribute:e,classname:t,html:n,siblings:i,style:o,text:r,update:s})}}),n("pubsub",{singleton:!1,value:function(){"use strict";let e=new Map;const t=(t,n)=>{if("function"!=typeof n)return;let i=t.split(",").map(e=>e.trim());for(let t=0,o=i.length;t<o;t++){let o=i[t];e.has(o)||e.set(o,new Set),e.get(o).add(n)}};return Object.freeze({dispatch:(t,n,i)=>{let o=t.split(",").map(e=>e.trim());for(let t=0,r=o.length;t<r;t++){let r=o[t];if(!e.has(r))continue;let s=e.get(r);s.forEach(e=>{(i?e.bind(i):e)(n),e.__once&&s.delete(e)})}},off:(t,n)=>{if("function"!=typeof n)return;let i=t.split(",").map(e=>e.trim());for(let t=0,o=i.length;t<o;t++){let o=i[t];n?e.get(o).delete(n):e.delete(o)}},on:t,once:(e,n)=>{n.__once=!0,t(e,n)}})}}),n("render",{dependencies:["render/html","render/template"],value:function(e,t){return Object.freeze({html:e,template:t})}}),n("throttle",{value:function(){"use strict";return function(e,t=0){let n=Date.now();return function(i){if(!(n+t-Date.now()>0))return n=Date.now(),e(i)}}}}),i(["emitter","node"],function(e,t){"use strict";let n=document.documentElement,i="html--overlay";e.once("triggers.dispatched",()=>{t.update(n,{classname:{"html--ready":"add"}})}),e.on("overlay.activated",()=>{t.update(n,{classname:{[i]:"add"}})}),e.on("overlay.deactivated",()=>{t.update(n,{classname:{[i]:"remove"}})})}),i(["directive","dom","node","state"],function(e,t,n,i){"use strict";let o="accordion";function r(e){return e.classList.contains(o)&&e.style.maxHeight>"0px"}e.on("accordion",function(){let e=t.id((e=>`accordion-${e}`)(this.getAttribute("data-accordion"))),s=this;e&&(r(e)?n.update(e,{style:{maxHeight:"0px"},before:()=>{i.deactivate([s,e])}}):n.update(e,{style:{maxHeight:`${e.scrollHeight}px`},after:()=>{let t=e.parentNode,i=[];for(;void 0!==t.classList;)t.classList.contains(o)&&i.push(t),t=t.parentNode;i.length>0&&n.style(i,{maxHeight:"999px"})},before:()=>{let t=n.siblings(e,r),o=n.siblings(s);i.deactivate(o.concat(t)),i.activate([s,e]),n.style(t,{maxHeight:"0px"})}}))})}),n("alert",{dependencies:["dom","node","render","state"],value:function(e,t,n,i){"use strict";let o={alert:e=>`alert-${e}`,messages:e=>`alert-${e}-messages`},r=e=>`<span class='alert-message'><p>${e}</p></span>`;function s(s,c,l=0){let d=e.id(o.alert(s)),u=e.id(o.messages(s));Array.isArray(c)||(c=[c]),c=c.filter(Boolean),!d||!u||c.length<1||t.update(u,{html:n.template(r,c),after:()=>{i.activate(d),l&&setTimeout(()=>{a(s)},1e3*l)}})}function a(t){let n=e.id(o.alert(t));e.update(()=>{i.deactivate(n)})}const c=(e,t=0)=>{s("error",e,t)},l=(e,t=0)=>{s("info",e,t)},d=(e,t=0)=>{s("success",e,t)};return Object.freeze({deactivate:{error:()=>{a("error")},info:()=>{a("info")},success:()=>{a("success")}},error:c,info:l,messages:e=>{c(e.error||[]),l(e.info||[]),d(e.success||[])},success:d})}}),i(["directive","dom","node"],function(e,t,n){"use strict";let i=0;e.on("append",function(e){e.preventDefault();let o=t.id(this.dataset.appendContainer),r=this.dataset.appendTemplate;n.update(o,{after:()=>{i++},html:{append:r.replace(new RegExp("{id}","g"),i)}})})}),i(["directive","node"],function(e,t){"use strict";e.on("processing",function(e){let n=Array.from(this.getElementsByTagName("button"));n&&t.update(n,{classname:{"button--processing":"add"}})})}),i(["directive","dom","alert"],function(e,t,n){"use strict";e.on("copy",function(){let e=t.id((e=>`copy-${e}`)(this.getAttribute("data-copy")));e&&(e.select(),document.execCommand("copy"),n.success("Copied to clipboard!",2))})}),i(["dom","emitter","node"],function(e,t,n){"use strict";let i=[];t.on("dom.refs.cached",function(){(i=e.refs("countdown"))&&setInterval(function(){let e=Date.now()/1e3;for(let t=0,o=i.length;t<o;t++){let o=i[t],r="",s=o.getAttribute("data-countdown")-e,a=Math.floor(s/86400),c=Math.floor(s%86400/3600),l=Math.floor(s%3600/60),d=Math.floor(s%60);a>0&&(r+=` ${a} Day${a>1?"s":""}`),c>0&&(r+=` ${c} Hour${c>1?"s":""}`),l>0&&(r+=` ${l} Minute${l>1?"s":""}`),d>0&&(r+=` ${d} Second${d>1?"s":""}`),n.update(o,{text:r})}},1e3)})}),i(["dom","directive","emitter","node"],function(e,t,n,i){"use strict";let o=new Map;t.on("drag-move",function(e){let t=o[this]||{};t.mouseDown&&this.scrollTopMax+this.scrollLeftMax!==0&&(e.preventDefault(),i.update(this,{attribute:{scrollLeft:t.scrollLeft-((e.pageX||e.touches[0].pageX)-this.offsetLeft-t.startX),scrollTop:t.scrollTop-((e.pageY||e.touches[0].pageY)-this.offsetTop-t.startY)}}))}),t.on("drag-start",function(e){o[this]={mouseDown:!0,scrollLeft:this.scrollLeft,scrollTop:this.scrollTop,startX:(e.pageX||e.touches[0].pageX)-this.offsetLeft,startY:(e.pageY||e.touches[0].pageY)-this.offsetTop,element:this}}),t.on("drag-stop",function(e){o[this]={mouseDown:!1,scrollLeft:0,scrollTop:0,startX:0,startY:0}})}),i(["emitter"],function(e){"use strict";let t={id:"drawers",modifier:e=>`drawers--${e}`,modifiers:["grey","transparent"]},n={attribute:{modifier:"data-modifier",trigger:"data-drawer"},id:e=>`drawer-${e}`},o={close:"drawers",trigger:"drawer"};e.on("components.mount",function(){i("overlays")(n,t,o)})}),i(["directive","dom","emitter","node","render"],function(e,t,n,i,o){"use strict";let r,s={pdf:"modal-embed--pdf",video:"modal-embed--video"},a={pdf:"#toolbar=0",video:"?autoplay=1"},c=e=>`<iframe src="${e}" frameborder="0"></iframe>`,l=t.id("modal-embed"),d=l?l.getElementsByClassName("modal-embed")[0]:null;l&&d&&(e.on("embed",function(){let t=this.dataset;t.src&&t.type&&(clearTimeout(r),i.update(d,{classname:s[t.type],html:o.template(c,t.src+a[t.type]),after:()=>{e.dispatch("modal",{},this)}}))}),n.on("embed.deactivated",()=>{i.update(d,{html:"",after:()=>{r=setTimeout(()=>{let e=Object.values(s),t={};for(let n of e)t[n]=!1;i.classname(d,t)},300)}})}))}),i(["directive","node"],function(e,t){"use strict";e.on("field-autoresize",function(){this.offsetHeight>this.scrollHeight||t.update(this,{style:{height:`${this.scrollHeight}px`}})})}),i(["directive","dom","state"],function(e,t,n){"use strict";let i={change:new Event("change")};e.on("field-checkbox",function(e){let o=this,r=e.target;if(t.update(()=>{n[r.checked?"activate":"deactivate"](o)}),r.checked&&"radio"===r.type){let e=t.names(r.name);if(!e)return;for(let t=0,n=e.length;t<n;t++){let n=e[t];r!==n&&n.dispatchEvent(i.change)}}})}),i(["directive","node"],function(e,t){"use strict";e.on("field-password",function(){let e=this.parentElement.getElementsByClassName("field-tag")[0];t.update(e,{attribute:{type:"password"===e.type?"text":"password"}})})}),i(["directive","node"],function(e,t){"use strict";e.on("field-redirect",function(e){let t=window.location.pathname,n=this.options[this.selectedIndex].value;[n,n.replace("/1","")].includes(t)||(window.location.href=window.location.href.replace(t,n))})}),i(["directive","dom","node","state"],function(e,t,n,i){"use strict";let o=new Event("change");e.on("field-select",function(){let e=this.closest(".field-text"),r=e.getElementsByClassName("field-mask")[0],s=e.getElementsByClassName("field-tag")[0],a=this.dataset.value;t.update(()=>{s.value=a,n.text(r,s.options[s.selectedIndex].text),s.dispatchEvent(o),i.deactivate(n.siblings(this)),i.activate(this)})})}),i(["alert","directive","dom","node"],function(e,t,n,i){"use strict";const o=function(t,o=!1){if(13!==t.keyCode&&!1===o)return;t.preventDefault();let r=n.id(this.dataset.fieldTagsContainer),s=this.dataset.fieldTagsTemplate;if(!this.value)return e.error("Invalid value, try again!"),void setTimeout(()=>{e.deactivate.error()},2e3);i.update(r,{after:()=>{this.value=""},html:{append:s.replace(new RegExp("{value}","g"),this.value)}})};t.on("field-tag-button",function(e){o.bind(this.parentNode.getElementsByClassName("field-mask")[0])(e,!0)}),t.on("field-tags",o)}),i(["directive","node"],function(e,t){"use strict";e.on("field-upload",function(){let e=this.closest(".field-text").getElementsByClassName("field-mask")[0];t.update(e,{html:`<b>${this.files[0].name}</b>`})})}),i(["directive","dom","emitter","node","state"],function(e,t,n,i,o){"use strict";let r=null;e.on("filter",function(){let e=[],n=this.value;if("all"!==n){for(let t=0,i=r.length;t<i;t++){let i=r[t];i.getAttribute("data-filter")===n&&e.push(i)}e.length&&t.update(()=>{let t=i.siblings(e[0]);o.deactivate(t),o.activate(e)})}else t.update(()=>{o.activate(r)})}),n.on("dom.refs.cached",function(){r=t.refs("filter")||[]})}),i(["directive","dom","node","state"],function(e,t,n,i){"use strict";e.on("frame",function(e){let o=t.id((e=>`frame-${e}`)(this.getAttribute("data-frame"))),r=this;if(!o&&!(o=t.id(this.getAttribute("data-frame"))))return;if(i.active(o))return;let s=[o];r.hasAttribute("data-frame-ignore")||(s=s.concat([r])),t.update(()=>{i.deactivate(n.siblings(r).concat(n.siblings(o))),i.activate(s)})})}),i(["emitter"],function(e){"use strict";let t={id:"modals",modifier:e=>`modals--${e}`,modifiers:[]},n={attribute:{modifier:"data-modifier",trigger:"data-modal"},id:e=>`modal-${e}`},o={close:"modals",trigger:"modal"};e.on("components.mount",function(){i("overlays")(n,t,o)})}),n("overlays",{dependencies:["directive","dom","emitter","node","state"],value:function(e,t,n,i,o){"use strict";function r(e,i,r){t.update(()=>{o.activate(e),o.deactivate(i),n.dispatch(`overlay.${r}`)})}return(n,s,a)=>{if(s.node=t.id(s.id),!s.node)return;const c=e=>{!o.active(s.node)||e&&e.target!==s.node||function(){let e=s.node.children,t=[];for(let n=0,i=e.length;n<i;n++){let i=e[n];o.active(i)&&t.push(i)}r([],t.concat([s.node]),"deactivated")}()};e.on(a.close,c),e.on(a.trigger,function(){let e=n.id(this.getAttribute(n.attribute.trigger)),a=t.id(e);a&&!o.active(a)?function(e){let t=e.getAttribute(n.attribute.modifier),a={[s.modifiers]:"remove"},c=t?s.modifier(t):null;c&&(a[c]="add"),i.update(s.node,{classname:a,after:()=>{s.modifiers=[c]}}),r([s.node,e],i.siblings(e,e=>o.active(e)),"activated")}(a):c()})}}}),i(["directive","dom","node"],function(e,t,n){"use strict";e.on("remove",function(e){let n=this.getAttribute("data-remove"),i=this;n&&(i=t.id(n)),t.update(()=>{i.parentNode.removeChild(i)})})}),i(["dom","directive","emitter","node"],function(e,t,n,i){"use strict";let o=e.id("site");const r=function(){let t=e.id((e=>`scrollbar-${e}`)(this.getAttribute("data-scrollbar")));if(!t)return;let n=this.clientHeight/this.scrollHeight*100,o=`translate3d(0, ${this.scrollTop/this.clientHeight*100}%, 0)`;i.update(t,{classname:{"scrollbar--hidden":n>=100},style:{"-webkit-transform":o,"-ms-transform":o,transform:o,height:`${n}%`}})};t.on("scrollbar",r),n.on("components.mount",()=>{let t=e.refs("scrollbar");t.length&&e.update(()=>{let e=o.offsetWidth-o.clientWidth;17!==e&&i.style(t,{width:`calc(100% + ${e}px)`})});let n=e.refs("scrollbar:dispatch");e.update(()=>{for(let e=0,t=n.length;e<t;e++)r.bind(n[e])()})})}),i(["directive","dom","emitter","node"],function(e,t,n,i){"use strict";let o=t.id("site"),r={counter:20,multiplier:32,threshold:20};function s(e){r.counter<r.threshold&&(e.preventDefault(),e.stopPropagation()),r.counter++}e.on("scroller",function(e){let t=this.scrollLeft-Math.max(-1,Math.min(1,-e.deltaY/3))*r.multiplier,n=this.scrollWidth-this.clientWidth;if(-e.deltaY/3==1){if(this.scrollLeft<1)return s(e);t<1&&(t=0)}else{if(this.scrollLeft>n-1)return s(e);t>n&&(t=n)}r.counter=0,e.preventDefault(),e.stopPropagation(),i.update(this,{attribute:{scrollLeft:t}})}),n.on("components.mount",()=>{!function(e){let t=o.offsetWidth-o.clientWidth;17!==t&&i.update(e,{style:{"margin-bottom":`${-Math.abs(t)}px`}})}(t.refs("scroller")),function(e){for(let t=0,n=e.length;t<n;t++){let n=e[t],o=(n.scrollWidth-n.clientWidth)/2;o<1||i.update(n,{attribute:{scrollLeft:o}})}}(t.refs("scroller-center"))})}),i(["directive","dom"],function(e,t){"use strict";let n=t.id("site");if(!n)return;let i=n.scrollHeight-n.clientHeight,o=0;function r(){let e=o-n.scrollTop,t=100;if(Math.abs(e)<t&&(t=Math.abs(e)),e>0){if(n.scrollTop+t>i)return;n.scrollTop+=t}else if(e<0){if(n.scrollTop-t<0)return;n.scrollTop-=t}0!==e&&setTimeout(r,10)}e.on("scrollto",function(e){let n=t.id((e=>`scrollto-${e}`)(this.getAttribute("data-scrollto")));n&&(e.preventDefault(),o=function(e){let t=0;if(e.offsetParent)do{t+=e.offsetTop,e=e.offsetParent}while(e);return t<0?0:t}(n),r())})}),i(["directive","dom","state"],function(e,t,n){"use strict";e.on("activate",function(){t.update(()=>{n.activate(t.id(this.getAttribute("data-activate")))})})}),i(["directive","dom","state"],function(e,t,n){"use strict";e.on("deactivate",function(){t.update(()=>{n.deactivate(t.id(this.getAttribute("data-deactivate")))})})}),n("state",{dependencies:["emitter","node"],value:function(e,t){"use strict";let n="--active";function i(i,o,r){if(i){Array.isArray(i)||(i=[i]),t.classname(i,{[n]:o});for(let t=0,n=i.length;t<n;t++){let n=i[t],o=n.id;o&&e.dispatch(`${o}.${r}`,{},n)}}}return Object.freeze({active:e=>e.classList.contains(n),activate:e=>{i(e,"add","activated")},deactivate:e=>{i(e,"remove","deactivated")},toggle:e=>{i(e,"toggle","toggled")}})}}),i(["directive","dom","state"],function(e,t,n){"use strict";let i=[];const o=e=>{let o=i.indexOf(e);o>-1&&i.splice(o,1),t.update(()=>{n.deactivate(e)})},r=e=>{if(0===i.length)return;let n=e.target;n&&(n=t.id(n.getAttribute("data-toggle"))||n);for(let e in i){let t=i[e];t===n||t.contains(n)||o(t)}};e.on("root.click",r),e.on("toggle",function(e){let s=this,a=t.id(s.getAttribute("data-toggle"))||s,c=e.type;c=["focus","mouseenter"].includes(c)?"activate":["blur","mouseleave"].includes(c)?"deactivate":"toggle",n.active(a)?(o(a),a!==s&&o(s)):(r(e),a!==s&&(i.push(s),t.update(()=>{n[c](s)})),i.push(a),t.update(()=>{n[c](a)}))})}),i(["directive","dom","state"],function(e,t,n){"use strict";let i=[];const o=e=>{0!==i.length&&t.update(()=>{n.deactivate(i),i=[]})},r=function(r,s=!1){let a=n.active(this),c=r.target,l=this,d=r.type;if(["click","focus","mouseenter"].includes(d)){if(a&&l!==c&&!s)return}else if(["blur","mouseleave"].includes(d)&&l.contains(c)&&l!==c)return;"click"===d?(r.preventDefault(),r.stopPropagation(),o(),0==a&&t.update(()=>{i.push(l),n.activate(l)})):e.dispatch("toggle",r,l)};e.on("root.click",o),e.on("tooltip",r),e.on("tooltip-detoggle",o),e.on("tooltip-toggle",function(e){r.bind(this)(e,!0)})}),i(["alert","directive","node"],function(e,t,n){"use strict";t.on("upload-onchange",function(){let i=this.parentElement.getElementsByClassName("button")[0],o=new FormData,r=new XMLHttpRequest;n.update(i,{classname:{"button--processing":"add"}}),o.append(this.name,this.files[0]),r.onreadystatechange=(()=>{if(4!=r.readyState||200!=r.status)return;let o=JSON.parse(r.response);o.success&&t.dispatch("upload-update",{},this),e.messages(o.messages||[]),i&&n.update(i,{classname:{"button--processing":"remove"}})}),r.open(this.form.method,this.form.action),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(o)})}),i(["directive","dom","node"],function(e,t,n){"use strict";let i=new FileReader;e.on("upload-update",function(){let e=this.files[0],o=t.id((e=>`upload-${e}`)(this.getAttribute("data-upload-update")));o&&(i.onloadend=(()=>{let e=i.result,t={style:{backgroundImage:`url(${e})`}};"IMG"===o.tagName&&(t={attribute:{src:e}}),n.update(o,t)}),e&&i.readAsDataURL(e))})}),i(["directive","dom","node"],function(e,t,n){"use strict";e.on("bank-deposit",function(){let e=this.value,i=t.id(this.getAttribute("data-target"));i&&t.update(()=>{let t="";e&&(t=`$${(.03*e+.3).toFixed(2)} will be added to the total to pay for the 2.9% + $0.30 fee charged by payment processor`),n.text(i,t)})})}),i(["directive","dom","state"],function(e,t,n){"use strict";e.on("scrolltop",function(){let e=this,i=t.id((e=>`scrolltop-${e}`)(e.getAttribute("data-scrolltop")));i&&t.update(()=>{e.scrollTop>100?n.activate(i):n.deactivate(i)})})}),i(["directive","dom"],function(e,t){"use strict";let n=new Event("click");e.on("game-select",function(e){let i=e.target.value,o=t.id((e=>`frame-trigger-gametype-${e}`)(i));o&&o.dispatchEvent(n)})}),i(["directive","dom"],function(e,t){"use strict";let n=new Event("click");e.on("format-select",function(e){let i=e.target.value,o=t.id((e=>`frame-trigger-format-${e}`)(i));o&&o.dispatchEvent(n)})}),i(["directive","dom","node","state"],function(e,t,n,i){"use strict";e.on("matchfinder-accept",function(e){let i=JSON.parse(this.dataset.json);t.update(()=>{t.id("modal-match-accept-id").value=i.id,n.text(t.id("modal-match-accept-gametype"),i.gametype),n.text(t.id("modal-match-accept-playersPerTeam"),i.playersPerTeam)})}),e.on("matchfinder-gametype",function(o){let r=o.target.value,s=this;if(!r)return;let a=`matchfinder-gametype-${r}`;s.dataset.accordion!=a&&n.update(s,{attribute:{"data-accordion":a},after:()=>{e.dispatch("accordion",{},s);let o=t.id(`matchfinder-roster-${r}`);o&&(i.deactivate(n.siblings(o)),i.activate(o))}})})}),i(["dom","directive","emitter","node"],function(e,t,n,i){"use strict";let o=null,r=null,s="tournament-bracket-container--current";const a=function(){i.update(o,{classname:{"tournament-bracket-container--collapse":"toggle"}})},c=function(){i.update(o,{classname:{[s]:"toggle"},after:()=>{let e=!0;o.classList.contains(s)&&(e=!1);for(let t=0,n=r.length;t<n;t++){let n=r[t],i=Number(n.getAttribute("data-column"));e?i+=Number(1):i-=Number(1),n.setAttribute("data-column",i)}}})};n.on("dom.refs.cached",function(){o=e.refs("tournament-bracket")[0]||null,r=e.refs("tournament-column"),o&&r&&(t.on("tournament-collapse-columns",a),r[0].classList.contains("tournament-bracket-column--complete")&&t.on("tournament-hide-columns",c))})}),i(["dom","directive","node"],function(e,t,n){"use strict";let i=new Map;const o=function(t){if(t in i==0){let n=e.refs(`tournament-team-${t}`);i[t]=[];for(let e=0,o=n.length;e<o;e++)i[t].push(n[e].parentElement,n[e])}return i[t]||{}};t.on("tournament-team",function(){let e=this.dataset.id,t=o(e);!t||!e||t.length<3||n.classname(t,{"--active":"toggle"})})}),t.start()}("undefined"==typeof app?app={}:app);